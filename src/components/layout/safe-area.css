/* Safe Area Utilities */
.pt-safe {
  padding-top: env(safe-area-inset-top, 0px);
}

.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.pl-safe {
  padding-left: env(safe-area-inset-left, 0px);
}

.pr-safe {
  padding-right: env(safe-area-inset-right, 0px);
}

.px-safe {
  padding-left: env(safe-area-inset-left, 0px);
  padding-right: env(safe-area-inset-right, 0px);
}

.py-safe {
  padding-top: env(safe-area-inset-top, 0px);
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.p-safe {
  padding: env(safe-area-inset-top, 0px) env(safe-area-inset-right, 0px) env(safe-area-inset-bottom, 0px) env(safe-area-inset-left, 0px);
}

/* Margin utilities */
.mt-safe {
  margin-top: env(safe-area-inset-top, 0px);
}

.mb-safe {
  margin-bottom: env(safe-area-inset-bottom, 0px);
}

.ml-safe {
  margin-left: env(safe-area-inset-left, 0px);
}

.mr-safe {
  margin-right: env(safe-area-inset-right, 0px);
}

.mx-safe {
  margin-left: env(safe-area-inset-left, 0px);
  margin-right: env(safe-area-inset-right, 0px);
}

.my-safe {
  margin-top: env(safe-area-inset-top, 0px);
  margin-bottom: env(safe-area-inset-bottom, 0px);
}

/* Height utilities */
.h-safe {
  height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
}

.min-h-safe {
  min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
}

/* Viewport height with safe area */
.h-screen-safe {
  height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
}

.min-h-screen-safe {
  min-height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
}

/* Dynamic viewport height */
.h-dvh {
  height: 100dvh;
}

.min-h-dvh {
  min-height: 100dvh;
}

/* Container queries for responsive design */
@container (min-width: 640px) {
  .sm\:grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@container (min-width: 768px) {
  .md\:grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  
  .md\:grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@container (min-width: 1024px) {
  .lg\:grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
  
  .lg\:grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
  
  .lg\:grid-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

/* Keyboard awareness */
.keyboard-aware {
  padding-bottom: var(--keyboard-height, 0px);
  transition: padding-bottom 0.3s ease-in-out;
}

.keyboard-visible {
  --keyboard-offset: var(--keyboard-height, 0px);
}

/* Device-specific utilities */
.has-notch {
  --notch-height: env(safe-area-inset-top, 0px);
}

.has-home-indicator {
  --home-indicator-height: env(safe-area-inset-bottom, 0px);
}

.is-fullscreen {
  --status-bar-height: 0px;
}

/* Enhanced safe area utilities */
.pt-safe-or-4 {
  padding-top: max(env(safe-area-inset-top, 0px), 1rem);
}

.pb-safe-or-4 {
  padding-bottom: max(env(safe-area-inset-bottom, 0px), 1rem);
}

.pl-safe-or-4 {
  padding-left: max(env(safe-area-inset-left, 0px), 1rem);
}

.pr-safe-or-4 {
  padding-right: max(env(safe-area-inset-right, 0px), 1rem);
}

/* Notch-specific utilities */
.notch-aware {
  padding-top: env(safe-area-inset-top, 0px);
}

.notch-height {
  height: env(safe-area-inset-top, 0px);
}

/* Home indicator utilities */
.home-indicator-aware {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

.home-indicator-height {
  height: env(safe-area-inset-bottom, 0px);
}

/* Orientation-specific styles */
@media (orientation: landscape) {
  .landscape\:pl-safe {
    padding-left: env(safe-area-inset-left, 0px);
  }
  
  .landscape\:pr-safe {
    padding-right: env(safe-area-inset-right, 0px);
  }
  
  .landscape\:px-safe {
    padding-left: env(safe-area-inset-left, 0px);
    padding-right: env(safe-area-inset-right, 0px);
  }
}

@media (orientation: portrait) {
  .portrait\:pt-safe {
    padding-top: env(safe-area-inset-top, 0px);
  }
  
  .portrait\:pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
  
  .portrait\:py-safe {
    padding-top: env(safe-area-inset-top, 0px);
    padding-bottom: env(safe-area-inset-bottom, 0px);
  }
}

/* Fullscreen utilities */
.fullscreen-safe {
  padding: env(safe-area-inset-top, 0px) env(safe-area-inset-right, 0px) env(safe-area-inset-bottom, 0px) env(safe-area-inset-left, 0px);
}

/* Interactive element safe positioning */
.safe-interactive {
  margin-bottom: max(env(safe-area-inset-bottom, 0px), 1rem);
}

/* Fixed positioning with safe areas */
.fixed-top-safe {
  position: fixed;
  top: env(safe-area-inset-top, 0px);
  left: 0;
  right: 0;
}

.fixed-bottom-safe {
  position: fixed;
  bottom: env(safe-area-inset-bottom, 0px);
  left: 0;
  right: 0;
}

.fixed-left-safe {
  position: fixed;
  left: env(safe-area-inset-left, 0px);
  top: 0;
  bottom: 0;
}

.fixed-right-safe {
  position: fixed;
  right: env(safe-area-inset-right, 0px);
  top: 0;
  bottom: 0;
}

/* Print styles */
@media print {
  .pt-safe,
  .pb-safe,
  .pl-safe,
  .pr-safe,
  .px-safe,
  .py-safe,
  .p-safe,
  .pt-safe-or-4,
  .pb-safe-or-4,
  .pl-safe-or-4,
  .pr-safe-or-4,
  .notch-aware,
  .home-indicator-aware,
  .keyboard-aware,
  .fullscreen-safe,
  .safe-interactive {
    padding: 0 !important;
    margin: 0 !important;
  }
  
  .mt-safe,
  .mb-safe,
  .ml-safe,
  .mr-safe,
  .mx-safe,
  .my-safe {
    margin: 0 !important;
  }
  
  .h-safe,
  .min-h-safe,
  .h-screen-safe,
  .min-h-screen-safe,
  .h-dvh,
  .min-h-dvh,
  .notch-height,
  .home-indicator-height {
    height: auto !important;
    min-height: auto !important;
  }
  
  .fixed-top-safe,
  .fixed-bottom-safe,
  .fixed-left-safe,
  .fixed-right-safe {
    position: static !important;
  }
}
